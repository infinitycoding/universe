
#include "memory_layout.h"
#include "elf.h"

ENTRY (start)

SECTIONS
{
	. = MEMORY_LAYOUT_KERNEL_EXEC_START - MEMORY_LAYOUT_KERNEL_START + SIZEOF_HEADERS;
	
    kernel_start = .; // to be removed

    .text ALIGN(PAGE_SIZE) : {
        *(.multiboot .multiboot.*)
        *(.text)
    }
    .data ALIGN(4096) : {
        *(.data)
    }
    .rodata ALIGN(4096) : {
        *(.rodata)
    }
    .bss ALIGN(4096) : {
        *(.bss)
    }

    . = ALIGN(4096);
    kernel_end = .;
}
